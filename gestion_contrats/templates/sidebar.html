<div id="sidebar" class="sidebar">
    <button class="toggle-btn" onclick="toggleSidebar()">☰</button>
    <ul>
        <li>
            <a href="{% url 'home' %}" data-title="Tableau de bord">
                <i class="fa-solid fa-chart-line icon"></i>
                <span class="link-text">Tableau de bord</span>
            </a>
        </li>
        <li>
            <a href="{% url 'contrats' %}" data-title="Contrats">
                <i class="fa-solid fa-file-contract icon"></i>
                <span class="link-text">Contrats</span>
            </a>
        </li>
        <li>
            <a href="{% url 'fournisseurs' %}" data-title="Fournisseurs">
                <i class="fa-solid fa-building icon"></i>
                <span class="link-text">Fournisseurs</span>
            </a>
        </li>
        <li>
            <a href="{% url 'blacklist' %}" data-title="Blacklists">
                <i class="fa-solid fa-ban icon"></i>
                <span class="link-text">Blacklists</span>
            </a>
        </li>
        <li>
            <a href="#" data-title="Paramètres">
                <i class="fa-solid fa-gear icon"></i>
                <span class="link-text">Paramètres</span>
            </a>
        </li>
        <li>
            <a href="#" onclick="..." class="logout-link">
                <i class="fa-solid fa-sign-out-alt icon"></i>
                <span class="link-text">Déconnexion</span>
            </a>
        </li>
    </ul>
</div>

<script>
function toggleSidebar() {
    const sidebar = document.querySelector('.sidebar');
    const body = document.body;

    sidebar.classList.toggle('collapsed');
    body.classList.toggle('sidebar-expanded');

    // On sauvegarde l'état dans localStorage pour le conserver entre les pages
    const isCollapsed = sidebar.classList.contains('collapsed');
    localStorage.setItem('sidebarCollapsed', isCollapsed);
}

// Au chargement de la page, on récupère l'état sauvegardé
document.addEventListener('DOMContentLoaded', function() {
    const sidebar = document.querySelector('.sidebar');
    const body = document.body;
    const isCollapsed = localStorage.getItem('sidebarCollapsed') === 'true';

    if (isCollapsed) {
        sidebar.classList.add('collapsed');
        body.classList.remove('sidebar-expanded');
    } else {
        sidebar.classList.remove('collapsed');
        body.classList.add('sidebar-expanded');
    }
});
</script>